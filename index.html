<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Тест для новых сотрудников</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #4facfe, #00f2fe);
    margin: 0;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  .card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    max-width: 400px;
    width: 100%;
  }
  h2 { margin-top: 0; }
  .answers button {
    display: block;
    width: 100%;
    margin: 5px 0;
    padding: 10px;
    border: none;
    border-radius: 8px;
    background: #eee;
    cursor: pointer;
    font-size: 16px;
  }
  .answers button.selected {
    background: #4facfe;
    color: white;
  }
  .progress {
    margin-top: 10px;
    font-size: 14px;
    color: #666;
  }
  #nextBtn {
    margin-top: 15px;
    width: 100%;
    padding: 12px;
    background: #4facfe;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
  }
</style>
</head>
<body>

<div class="card">
  <h2 id="question"></h2>
  <div class="answers" id="answers"></div>
  <div class="progress" id="progress"></div>
  <button id="nextBtn">Далее</button>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
const questions = [
  { q: 'Как правильно включить компьютер?', options: ['Нажать кнопку питания', 'Дёрнуть за кабель', 'Открыть корпус'], correct: 0 },
  { q: 'Что делать, если клиент жалуется на медленный интернет?', options: ['Проверить соединение', 'Игнорировать', 'Выключить свет'], correct: 0 },
  { q: 'Как проверить, подключена ли мышь и клавиатура?', options: ['Проверить кабели', 'Потрясти стол', 'Перезагрузить роутер'], correct: 0 },
  { q: 'Что нужно сделать перед началом смены?', options: ['Проверить оборудование', 'Сразу уйти домой', 'Включить музыку'], correct: 0 },
  { q: 'Как подключить наушники с микрофоном?', options: ['В нужные разъёмы', 'В USB-порт мыши', 'В розетку'], correct: 0 },
  { q: 'Что делать, если игра не запускается?', options: ['Перезапустить компьютер', 'Удалить Windows', 'Игнорировать'], correct: 0 },
  { q: 'Как проверить баланс клиента?', options: ['Зайти в аккаунт', 'Спросить у соседа', 'Открыть калькулятор'], correct: 0 },
  { q: 'Что делать, если пролили напиток на клавиатуру?', options: ['Отключить питание', 'Продолжить играть', 'Поставить сушиться на батарею'], correct: 0 },
  { q: 'Как завершить работу компьютера?', options: ['Выбрать "Завершение работы"', 'Выдернуть кабель', 'Нажать Reset'], correct: 0 },
  { q: 'Что делать, если монитор не показывает изображение?', options: ['Проверить кабель', 'Поменять обои', 'Выключить свет'], correct: 0 },
  { q: 'Как вежливо попросить клиента освободить место?', options: ['Попросить вежливо', 'Крикнуть', 'Выключить компьютер'], correct: 0 },
  { q: 'Что делать, если клиент забыл выйти из аккаунта?', options: ['Выйти из аккаунта', 'Сменить пароль', 'Удалить игру'], correct: 0 },
  { q: 'Как проверить, работает ли гарнитура?', options: ['Проверить звук', 'Потрясти её', 'Постучать'], correct: 0 },
  { q: 'Что делать, если клиент жалуется на шум?', options: ['Сделать замечание', 'Игнорировать', 'Включить музыку громче'], correct: 0 },
  { q: 'Как действовать при конфликте между клиентами?', options: ['Разнять конфликт', 'Снимать на телефон', 'Уйти'], correct: 0 }
];

let current = 0;
let score = 0;
let selected = null;

const qEl = document.getElementById('question');
const aEl = document.getElementById('answers');
const pEl = document.getElementById('progress');
const nextBtn = document.getElementById('nextBtn');

function loadQuestion() {
  const q = questions[current];
  qEl.textContent = q.q;
  aEl.innerHTML = '';
  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.textContent = opt;
    btn.onclick = () => {
      document.querySelectorAll('.answers button').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      selected = i;
    };
    aEl.appendChild(btn);
  });
  pEl.textContent = `Вопрос ${current+1} из ${questions.length}`;
}

nextBtn.onclick = () => {
  if (selected === null) return alert('Выберите ответ!');
  if (selected === questions[current].correct) score++;
  selected = null;
  current++;
  if (current < questions.length) {
    loadQuestion();
  } else {
    Telegram.WebApp.sendData(JSON.stringify({ testType: 'new_user', score, total: questions.length }));
  }
};

loadQuestion();
</script>

</body>
</html>

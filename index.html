<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Тест для новых сотрудников</title>
<style>
  body { font-family: sans-serif; background: #f4f4f4; margin: 0; padding: 20px; }
  .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
  h2 { margin-top: 0; }
  .answers button {
    display: block; width: 100%; margin: 5px 0; padding: 10px;
    border: none; border-radius: 5px; background: #eee; cursor: pointer;
  }
  .answers button.selected { background: #4cafef; color: white; }
  .progress { margin-top: 10px; font-size: 14px; color: #666; }
</style>
</head>
<body>

<div class="card">
  <h2 id="question"></h2>
  <div class="answers" id="answers"></div>
  <div class="progress" id="progress"></div>
  <button id="nextBtn">Далее</button>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
const questions = [
  { q: 'Как правильно включить компьютер?', options: ['Нажать кнопку питания', 'Дёрнуть за кабель', 'Открыть корпус'], correct: 0 },
  { q: 'Что делать, если клиент жалуется на медленный интернет?', options: ['Перезапустить роутер', 'Игнорировать', 'Выключить свет'], correct: 0 },
  // ... добавь остальные 13 вопросов
];

let current = 0;
let score = 0;
let selected = null;

const qEl = document.getElementById('question');
const aEl = document.getElementById('answers');
const pEl = document.getElementById('progress');
const nextBtn = document.getElementById('nextBtn');

function loadQuestion() {
  const q = questions[current];
  qEl.textContent = q.q;
  aEl.innerHTML = '';
  q.options.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.textContent = opt;
    btn.onclick = () => {
      document.querySelectorAll('.answers button').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      selected = i;
    };
    aEl.appendChild(btn);
  });
  pEl.textContent = `Вопрос ${current+1} из ${questions.length}`;
}

nextBtn.onclick = () => {
  if (selected === null) return alert('Выберите ответ!');
  if (selected === questions[current].correct) score++;
  selected = null;
  current++;
  if (current < questions.length) {
    loadQuestion();
  } else {
    Telegram.WebApp.sendData(JSON.stringify({ testType: 'new_user', score, total: questions.length }));
  }
};

loadQuestion();
</script>

</body>
</html>
